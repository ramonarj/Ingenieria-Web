<!DOCTYPE html>
<html 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1" name="viewport" />
	<title>Firefighter space</title>
	<link rel="stylesheet" th:href="@{/css/horario.css}" href="../static/css/horario.css" type="text/css"/>
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<head th:replace="/fragments/toolbar.html :: head"></head>
<head th:replace="calendar.html :: head"></head>
<body>
	<nav th:replace="/fragments/toolbar.html :: body"></nav>
	<body th:replace="calendar.html :: body"></body>
	 	<h2>Cambiar turno</h2>
		<form class="smallform" th:action="@{/user/getUsersToChange}" method="GET">
			<h3>Día que quieres ofrecer</h3>
			<input type="date" name="date1" th:value="${session.date1}" required/>
			<h3>Día que quieres recibir</h3>
			<input type="date" name="date2" th:value="${session.date2}" required/>
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
			<button type="submit" id="buscaUsuarios" class="active">Buscar usuarios</button>
		</form>
		
		<form class="smallform" th:action="@{/user/cambiaTurno}" method="GET" id="pedirCambioForm">
			<h3>Usuarios disponbles</h3>
			<select id="dropdownUsers" name="user2_id">
				<option th:each="user: ${session.filteredUsers}" th:text="${user.name}" th:value="${user.id}">Usuario X</option>
	        </select>
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
			<button type="submit" id="pedirCambio" class="active">Pedir cambio</button>
	   </form>
</body>

</html>